---
title: "Implementing Module 4"
description:
   "Ship full navigation: routed dashboard, project detail pages, and settings
   tabs."
module: "M4"
lesson: "8"
difficulty: "advanced"
duration: "60"
project_phase: "Navigation"
prerequisites: ["/docs/react-new/m4/7_routing-best-practices"]
learning_objectives:
   - "Connect layouts, routes, and state hooks"
   - "Render project detail views with URL params"
   - "Add settings tabs with protected scaffolding"
   - "Verify navigation analytics and accessibility"
tags: ["implementation", "routing", "react-router"]
---

import { Accordions, Accordion } from "@/components/accordion";

# Implementing Module 4

## Learning Objectives

By the end of this lesson, you will:

-  [ ] Finalize the router tree with nested layouts and guards.
-  [ ] Render project detail pages driven by URL params.
-  [ ] Add Settings tabs (profile, notifications) with navigation.
-  [ ] Confirm analytics, focus management, and scroll resets work.

## Project Context

This is the hands-on glue work‚ÄîTaskFlow Pro becomes a multi-page SPA with
shareable URLs, nested layouts, and consistent navigation state.

---

## Implementation Plan

1. Wire `AppRouter` with all layouts, nested routes, and fallbacks.
2. Render dashboard content using existing modules.
3. Build `ProjectDetailPage` to consume params and fetch project-specific tasks.
4. Implement settings tabs (profile, notifications) using `NavLink` and nested
   routes.
5. Validate analytics, focus, and accessibility improvements.

---

## ‚úÖ Best Practices

### 1. Keep Data Fetching in Hooks

**Why:** Pages stay declarative and reuse Module 3 caching.

### 2. Provide Loading Skeletons per View

**Why:** Each route should show context-appropriate skeletons to reduce
perceived latency.

---

## ‚ùå Common Mistakes

### 1. Forgetting to Hydrate Params

**Problem:** Using params without verifying existence leads to crashes.

**Solution:** Guard with conditional renders and friendly fallbacks.

### 2. Duplicating Navigation State

**Problem:** Storing project IDs in multiple hooks causes drift.

**Solution:** Derive the active project from the URL.

---

## üî® Implement in TaskFlow Pro

Bring everything together:

1. Update `AppRouter`, layouts, and pages to finalize the navigation flow.
2. Create `ProjectDetailPage` that reads `projectId` param, fetches tasks via
   `useTasksState`, and shows breadcrumbs + task list.
3. Add Settings sub-pages (`SettingsProfilePage`, `SettingsNotificationsPage`)
   with forms or placeholders.
4. Ensure `RouteChangeTracker` wraps route content.
5. Run `npm run test -- --watch=false` (or available tests) to confirm
   navigation logic.
6. Commit with `git commit -am "feat: complete module 4 navigation"`.

<Accordions type='single' className='mt-4'>
   <Accordion title='Solution Walkthrough'>
      <p>Assemble the routing infrastructure with pages tied to TaskFlow Pro state.</p>

      ```tsx filename="src/pages/ProjectDetailPage.tsx"
      import { useMemo } from "react";
      import { useParams } from "react-router-dom";
      import { useTasksState } from "@/hooks/useTasksState";
      import { Callout } from "fumadocs-ui/components/callout";

      export function ProjectDetailPage() {
         const { projectId } = useParams<{ projectId: string }>();
         const { tasks } = useTasksState();

         const scopedTasks = useMemo(
            () => tasks.filter((task) => task.projectId === projectId),
            [tasks, projectId]
         );

         if (!projectId) {
            return (
               <Callout type='warning' title='Select a project'>
                  Choose a project from the sidebar to view its tasks.
               </Callout>
            );
         }

         if (scopedTasks.length === 0) {
            return (
               <Callout type='info' title='No tasks yet'>
                  Create a task in this project to get started.
               </Callout>
            );
         }

         return (
            <section className='space-y-4'>
               <header>
                  <h1 className='text-2xl font-semibold'>Project ¬∑ {projectId}</h1>
               </header>
               <TaskList tasks={scopedTasks} />
            </section>
         );
      }
      ```

      ```tsx filename="src/pages/SettingsProfilePage.tsx"
      import { Button } from "@/components/ui/button";

      export function SettingsProfilePage() {
         return (
            <form className='space-y-4'>
               <fieldset>
                  <label className='text-sm font-medium'>Display name</label>
                  <input className='mt-1 w-full rounded-md border px-3 py-2' defaultValue='Jordan Cuevas' />
               </fieldset>
               <Button type='submit'>Save changes</Button>
            </form>
         );
      }
      ```

      ```bash
      npm run test -- --watch=false
      git add src/router/AppRouter.tsx src/pages/ProjectDetailPage.tsx src/pages/SettingsProfilePage.tsx
      git commit -m "feat: complete module 4 navigation"
      ```

   </Accordion>
</Accordions>

#### Expected Result

TaskFlow Pro now supports full navigation across dashboard, projects, and
settings, with shareable URLs and accessible transitions.

---

## ‚úÖ Validation Checklist

### Functionality

-  [ ] Navigating between pages updates URLs without reloads.
-  [ ] Project detail view filters tasks correctly.
-  [ ] Settings tabs work and remain guarded.

### Code Quality

-  [ ] Route layouts reuse existing components and hooks.
-  [ ] Tests (or manual checks) validate routing workflows.

### Understanding

-  [ ] You can explain how params flow from the router to page components.
-  [ ] You know where to add more tabs or nested routes later.

### Project Integration

-  [ ] Analytics logs show each route change.
-  [ ] Focus/scroll resets support accessibility goals.

---

<div className='mt-8 flex justify-between'>
   <a
      href='/docs/react-new/m4/7_routing-best-practices'
      className='text-sm font-medium text-muted-foreground hover:text-foreground'
   >
      ‚Üê Routing Best Practices
   </a>
   <a
      href='/docs/react-new/m4/9_validation'
      className='text-sm font-medium text-primary hover:text-primary/80'
   >
      Next ¬∑ Validation
   </a>
</div>
