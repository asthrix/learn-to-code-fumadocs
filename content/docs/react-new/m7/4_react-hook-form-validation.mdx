---
title: "React Hook Form Validation"
description:
   "Implement schema validation, async checks, and field-level feedback in
   TaskFlow Pro forms."
module: "M7"
lesson: "4"
difficulty: "advanced"
duration: "35"
project_phase: "Authentication"
prerequisites: ["/docs/react-new/m7/3_react-hook-form-basics"]
learning_objectives:
   - "Apply Zod/Yup schemas with React Hook Form"
   - "Run async validators (invite code, email uniqueness)"
   - "Provide inline and summary feedback"
   - "Localise and customise error messages"
tags: ["react-hook-form", "validation", "zod"]
---

import { Accordions, Accordion } from "@/components/accordion";

# React Hook Form Validation

## Learning Objectives

By the end of this lesson, you will:

-  [ ] Enforce schema validation with descriptive messages.
-  [ ] Use async validation for invite codes and email availability.
-  [ ] Offer inline feedback with accessible semantics.
-  [ ] Localise messages for future multi-language support.

## Schema Validation with Zod

```tsx
const signUpSchema = z
   .object({
      name: z.string().min(2, "Name is too short"),
      email: z.string().email("Enter a valid work email"),
      password: z
         .string()
         .min(8, "At least 8 characters")
         .regex(/[A-Z]/, "Add an uppercase letter"),
      confirmPassword: z.string(),
      inviteCode: z.string().optional(),
   })
   .refine((data) => data.password === data.confirmPassword, {
      message: "Passwords must match",
      path: ["confirmPassword"],
   });
```

---

## Async Validation

```tsx
const { register, trigger, formState } = useForm<SignUpInput>({
   resolver: zodResolver(signUpSchema),
});

const validateInvite = async (code: string) => {
   const result = await authClient.validateInvite(code);
   return result.valid || "Invite code is invalid or expired";
};

<input {...register("inviteCode", { validate: validateInvite })} />;
```

-  Use `trigger("fieldName")` to manually validate on blur.
-  Show spinner or `isValidating` states to inform users.

---

## Error Presentation best practices

-  Inline message near field tied via `aria-describedby`.
-  Summary of all errors at top for screen readers.
-  Keep message style consistent with design system.

<Accordions type='single' className='mt-4'>
   <Accordion title='TaskFlow Pro Enhancements'>
      <p>Wire validation patterns into shared components.</p>

      ```tsx filename="src/forms/components/FormField.tsx"
      import { Controller, FieldValues, Path, UseFormReturn } from "react-hook-form";

      export function FormField<T extends FieldValues>({
         form,
         name,
         render,
         label,
         description,
      }: {
         form: UseFormReturn<T>;
         name: Path<T>;
         label: string;
         description?: string;
         render: (field: ReturnType<typeof form.register>) => React.ReactNode;
      }) {
         const error = form.formState.errors[name];
         const fieldId = `${name}-field`;
         const messageId = `${name}-error`;

         return (
            <div className='space-y-2'>
               <label htmlFor={fieldId} className='text-sm font-medium'>
                  {label}
               </label>
               {description && <p className='text-xs text-muted-foreground'>{description}</p>}
               {render(form.register(name))}
               {error && (
                  <p id={messageId} role='alert' className='text-sm text-destructive'>
                     {error.message as string}
                  </p>
               )}
            </div>
         );
      }
      ```

   </Accordion>
</Accordions>

---

## ✅ Validation Checklist

-  [ ] Schema covers password rules, matching confirmation, invite codes.
-  [ ] Async validation handles success/error states gracefully.
-  [ ] Error presentation meets accessibility guidance.

---

<div className='mt-8 flex justify-between'>
   <a
      href='/docs/react-new/m7/3_react-hook-form-basics'
      className='text-sm font-medium text-muted-foreground hover:text-foreground'
   >
      ← React Hook Form Basics
   </a>
   <a
      href='/docs/react-new/m7/5_react-hook-form-dynamic-fields'
      className='text-sm font-medium text-primary hover:text-primary/80'
   >
      Next · React Hook Form Dynamic Fields
   </a>
</div>
