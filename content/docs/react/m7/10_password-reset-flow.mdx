---
title: "Password Reset Flow"
description:
   "Implement the password reset request and confirmation screens for TaskFlow
   Pro."
module: "M7"
lesson: "10"
difficulty: "advanced"
duration: "35"
project_phase: "Authentication"
prerequisites: ["/docs/react/m7/9_login-implementation"]
learning_objectives:
   - "Create reset request form with RHF + Zod"
   - "Implement token-based reset confirmation page"
   - "Handle optimistic UI and success messaging"
   - "Instrument analytics for reset events"
tags: ["react", "authentication", "forms"]
---

# Password Reset Flow

## Request Form

```tsx filename="src/components/auth/ResetRequestForm.tsx"
import { useForm } from "react-hook-form";
import { zodResolver } from "@hookform/resolvers/zod";
import { useMutation } from "@tanstack/react-query";
import { AuthService } from "@/lib/auth-service";
import { trackAuthEvent } from "@/lib/analytics";

const schema = z.object({
   email: z.string().email("Use your work email"),
});

export const ResetRequestForm = () => {
   const {
      register,
      handleSubmit,
      formState: { errors },
   } = useForm<{ email: string }>({ resolver: zodResolver(schema) });

   const mutation = useMutation({
      mutationFn: (payload: { email: string }) =>
         AuthService.requestReset(payload.email),
      onSuccess: () => trackAuthEvent("reset_request"),
   });

   const onSubmit = handleSubmit((values) => mutation.mutate(values));

   return (
      <form onSubmit={onSubmit} className='space-y-4'>
         <div>
            <label>Email</label>
            <input type='email' {...register("email")} />
            {errors.email && <p>{errors.email.message}</p>}
         </div>
         <button type='submit'>Send reset link</button>
         {mutation.isSuccess && <p>Check your inbox for the reset link.</p>}
      </form>
   );
};
```

---

## Confirmation Page

```tsx filename="src/app/reset/[token]/page.tsx"
import { notFound } from "next/navigation";
import { ResetConfirmationForm } from "@/components/auth/ResetConfirmationForm";

export default function ResetPage({ params }: { params: { token: string } }) {
   if (!params.token) return notFound();
   return <ResetConfirmationForm token={params.token} />;
}
```

```tsx filename="src/components/auth/ResetConfirmationForm.tsx"
const schema = z
   .object({
      password: z.string().min(12, "Use at least 12 characters"),
      confirmPassword: z.string(),
   })
   .refine((data) => data.password === data.confirmPassword, {
      message: "Passwords must match",
      path: ["confirmPassword"],
   });
```

---

## UX Considerations

-  Provide direct link back to login on success.
-  Include password strength meter with hints.
-  Limit reset link lifetime to 30 minutes.

---

## ✅ Validation Checklist

-  [ ] Request form sends emails via backend.
-  [ ] Confirmation form enforces secure passwords.
-  [ ] Success states guide user back to login.

---

<div className='mt-8 flex justify-between'>
   <a
      href='/docs/react/m7/9_login-implementation'
      className='text-sm font-medium text-muted-foreground hover:text-foreground'
   >
      ← Login Implementation
   </a>
   <a
      href='/docs/react/m7/11_auth-rollout'
      className='text-sm font-medium text-primary hover:text-primary/80'
   >
      Next · Auth Rollout
   </a>
</div>
