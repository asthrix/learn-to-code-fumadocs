---
title: "API Overview"
description:
   "Meet the mock API powering TaskFlow Pro and plan how to consume it."
module: "M0"
lesson: "6"
difficulty: "beginner"
duration: "20"
project_phase: "Environment & workflow"
prerequisites: ["/docs/react/m0/5_linting-formatting"]
learning_objectives:
   - "Understand available API endpoints and payloads"
   - "Identify authentication strategy for later modules"
   - "Plan error and loading states you'll handle"
   - "Document how to run the mock server locally"
tags: ["api", "rest", "planning"]
---

# API Overview

## Learning Objectives

By the end of this lesson, you will:

-  [ ] Know the REST endpoints for tasks, projects, and users.
-  [ ] Understand the shape of responses and errors.
-  [ ] Plan loading and empty states for UI components.
-  [ ] Capture instructions to run the mock API locally.

## Project Context

TaskFlow Pro talks to an API for persistence. We start with a mock JSON server
and swap to hosted services later. Knowing endpoints now keeps components
consistent when we add data fetching in Module 3.

---

## Endpoints

| Method | Route               | Description                           |
| ------ | ------------------- | ------------------------------------- |
| GET    | `/api/projects`     | List all projects with task summaries |
| GET    | `/api/projects/:id` | Retrieve a single project with tasks  |
| POST   | `/api/tasks`        | Create a task                         |
| PATCH  | `/api/tasks/:id`    | Update task fields                    |
| DELETE | `/api/tasks/:id`    | Remove a task                         |

### Response Shape

```json
{
   "id": "tsk_123",
   "title": "Draft project brief",
   "description": "Collect requirements from stakeholders",
   "dueDate": "2025-04-12",
   "priority": "high",
   "status": "in-progress"
}
```

Errors follow `{ "message": string, "statusCode": number }`.

---

## Authentication Plan

Modules M0‚ÄìM6 operate against public endpoints. Module 7 introduces JWT-based
authentication. When auth is enabled, include `Authorization: Bearer <token>`
headers on protected routes.

---

## ‚úÖ Best Practices

### 1. Centralise API Clients

**Why:** Keeps HTTP logic in one location and simplifies retries.

```ts
export const api = axios.create({ baseURL: "/api" });
```

### 2. Mock Early, Swap Later

**Why:** Allows UI development without waiting for backend readiness.

```bash
npm install -D json-server
json-server --watch mocks/db.json --port 4000
```

---

## ‚ùå Common Mistakes

### 1. Hardcoding URLs

**Problem:** Switching environments becomes painful.

```ts
// Bad
axios.get("http://localhost:4000/api/tasks");
```

**Solution:**

```ts
axios.get(`${process.env.NEXT_PUBLIC_API_URL}/tasks`);
```

### 2. Ignoring Error States

**Problem:** Users see blank screens instead of helpful messages.

```tsx
// Bad: returning null when fetch fails.
return null;
```

**Solution:**

```tsx
return <p role='alert'>Could not load tasks. Try again.</p>;
```

---

## üî® Implement in TaskFlow Pro

### Task: Mock API Checklist

1. Create `mocks/db.json` with sample projects and tasks.
2. Add `npm run api` script: `json-server --watch mocks/db.json --port 4000`.
3. Document endpoints in `docs/api.md` with example requests.
4. Commit with `git commit -am "chore: add mock api"`.

#### Expected Result

You can start the API locally (`npm run api`) and inspect responses at
`http://localhost:4000/api/projects`.

---

## ‚úÖ Validation Checklist

### Functionality

-  [ ] `npm run api` boots without errors.
-  [ ] GET requests to `/api/projects` return seeded data.

### Code Quality

-  [ ] API docs describe endpoints, params, responses, and errors.
-  [ ] Mock data uses realistic fields and consistent casing.

### Understanding

-  [ ] You can describe how auth will change requests in Module 7.
-  [ ] You know what to display when responses are empty or fail.

### Project Integration

-  [ ] `package.json` includes the `api` script.
-  [ ] Notes list ports in use to avoid conflicts (e.g., Vite on 5173, API on
       4000).

---

<div className='mt-8 flex justify-between'>
   <a
      href='/docs/react/m0/5_linting-formatting'
      className='text-sm font-medium text-muted-foreground hover:text-foreground'
   >
      ‚Üê Linting & Formatting
   </a>
   <a
      href='/docs/react/m0/7_ui-components'
      className='text-sm font-medium text-primary hover:text-primary/80'
   >
      Next ¬∑ UI Components
   </a>
</div>
